

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Server Utilities &mdash; REEM v1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Docs" href="docs.html" />
    <link rel="prev" title="Performance" href="performance.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> REEM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Set Up Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#browser">Browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logger">Logger</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rdb-logger">RDB Logger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rdb">RDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#aof">AOF</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#custom-logger">Custom Logger</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">REEM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Server Utilities</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/server-utilities.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-utilities">
<h1>Server Utilities<a class="headerlink" href="#server-utilities" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>REEM comes with some server-side utilities to help make debugging a little bit easier. They are located together
inside a <a class="reference external" href="https://github.com/tn74/reem-servery">GitHub repository</a>. It is not a PyPi package. Download the repository and install dependencies with the below
script</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone git@github.com:tn74/reem-server.git
<span class="nb">cd</span> reem-server
pip3 install -r requirements.txt
</pre></div>
</div>
<div class="section" id="browser">
<h2>Browser<a class="headerlink" href="#browser" title="Permalink to this headline">¶</a></h2>
<p>The browser allows you to view data inside a Redis server in a web format.
It is written with the python Django web framework. Make sure you have a
Redis server turned on before starting it. To start the browser’s server,
run the following script starting at the <code class="docutils literal notranslate"><span class="pre">reem-server</span></code> directory</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> browser
python manage.py runserver
</pre></div>
</div>
<p>Some Notes:</p>
<p>1. The web-browser-server assumes that the Redis server is on the same machine and bound to the localhost interface.
If the browser is being launched from a different computer as the Redis server, change the REEM_HOSTNAME variable
at the bottom of the <a class="reference external" href="https://github.com/tn74/reem-server/blob/master/browser/reem_browser/settings.py">django configuration file</a></p>
<p>2. Running <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">runserver</span></code> starts the server on the localhost interface. If you want to connect to
this web browser from other machines, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">manage.py</span> <span class="pre">runserver</span> <span class="pre">0.0.0.0:8000</span></code> and access the browser at the
ip address of the machine running the browser and port 8000.</p>
<p>3. To access data at a specific path in redis, go to <code class="docutils literal notranslate"><span class="pre">http://localhost:8000/view/&lt;reem-path&gt;</span></code>.
For example, if you wanted to see what was stored at “foo.bar.subkey”,
go to the url “<a class="reference external" href="http://127.0.0.1:8000/view/foo.bar.subkey">http://127.0.0.1:8000/view/foo.bar.subkey</a>”</p>
<ol class="arabic" start="4">
<li><p>Numpy data can be viewed in two ways</p>
<ol class="arabic simple">
<li><p>A pretty printed list of numbers</p></li>
<li><p>An image</p></li>
</ol>
<ul class="simple">
<li><p>If you try to view an image-sized numpy array as a list of pretty printed numbers, the server will be very slow.</p></li>
</ul>
</li>
</ol>
<p>A screen capture of what the browser looks like is below</p>
<img alt="_images/browser_screen_cap.png" src="_images/browser_screen_cap.png" />
</div>
<div class="section" id="logger">
<h2>Logger<a class="headerlink" href="#logger" title="Permalink to this headline">¶</a></h2>
<p>We want to implement logging functionality that ultimately allows users to see how specific keys change in
Redis over time. Imagine having the above  browser with a slider bar that allows you to see how a key changes as
you drag the slider. We have begun testing two ways of doing this but neither is fully functional.</p>
<div class="section" id="rdb-logger">
<h3>RDB Logger<a class="headerlink" href="#rdb-logger" title="Permalink to this headline">¶</a></h3>
<p>Redis has two natural ways of storing data to persistent memory. It can use RDB files that snapshot the database
at a specific point in time and AOF files that track
all changes to Redis in an append only fashion.</p>
<div class="section" id="rdb">
<h4>RDB<a class="headerlink" href="#rdb" title="Permalink to this headline">¶</a></h4>
<p>Redis can be told to save the database to an RDB file periodically but it is configured to always write to the same
file. This poses a problem if we would like to save the state of data at previous points in time.</p>
<p>There is a script in the <a class="reference external" href="https://github.com/tn74/reem-server/blob/master/logger_rdb/reem-logger.py">reem-server repository</a>
that copies the redis’s dump file periodically to a folder so users can save snapshots of Redis data in time.
The script is called according to the syntax</p>
<p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">reem-logger</span> <span class="pre">&lt;path-to-directory-of-snapshots&gt;</span> <span class="pre">&lt;path-to-redis-dump-file&gt;</span> <span class="pre">&lt;seconds-between-snapshot&gt;</span></code></p>
<p>The next (unimplemented) step is to select a snapshot based on a timestamp and load a Redis server with it. After
that, we could use the REEM client to query the desired data.</p>
<p>There are some existing <a class="reference external" href="https://github.com/sripathikrishnan/redis-rdb-tools">tools</a>
that allow the user to parse through RDB directly without starting a Redis server, but they generally
do not support parsing ReJSON commands since ReJSON is a young third-party module.</p>
</div>
<div class="section" id="aof">
<h4>AOF<a class="headerlink" href="#aof" title="Permalink to this headline">¶</a></h4>
<p>Ideally we would not have to copy data that doesn’t change much like we do when we save so many RDB files. We would
like to be able to use the AOF file that tracks all changes made to the Redis server. It is played back by a Redis
server when it is used to restore a specific state. More research must be done into finding parsers for AOF files.</p>
</div>
</div>
<div class="section" id="custom-logger">
<h3>Custom Logger<a class="headerlink" href="#custom-logger" title="Permalink to this headline">¶</a></h3>
<p>Some work was done on developing a custom logger. This custom program would not use a standard Redis data saving
format but would use REEM to retrieve data from Redis periodically and use numpy to store it. The user would
be able to specify a particular frequency for a given key. The code is
<a class="reference external" href="https://github.com/tn74/reem-server/tree/master/logger_custom">online here</a></p>
<p>This <a class="reference external" href="https://github.com/tn74/reem-server/blob/master/logger_custom/reem-logger.py">log function</a> would take in a
<a class="reference external" href="https://github.com/tn74/reem-server/blob/master/logger_custom/test_key_files/key1.txt">key file</a>
that specified a paths and periods (representing how frequently to read a specific path in Redis) and an output
directory to store saved data.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="docs.html" class="btn btn-neutral float-right" title="Docs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="performance.html" class="btn btn-neutral float-left" title="Performance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Trishul Nagenalli, Dr. Kris Hauser

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>